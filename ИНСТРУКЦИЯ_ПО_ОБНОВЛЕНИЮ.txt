═══════════════════════════════════════════════════════════════
  ИНСТРУКЦИЯ ПО ОБНОВЛЕНИЮ ГЕНЕРАТОРА "БРАТЬЯ"
═══════════════════════════════════════════════════════════════

📍 ГДЕ НАХОДЯТСЯ ФАЙЛЫ?
-----------------------

Я создал файлы обновлений в вашей рабочей папке проекта:
  /home/user/Mind-Abacus-/

Вы найдете там файлы:
  - ОБНОВЛЕНИЕ_ExampleGenerator.js
  - ОБНОВЛЕНИЕ_BrothersRule.js


📝 ЧТО НУЖНО СДЕЛАТЬ?
---------------------

Вариант 1: АВТОМАТИЧЕСКОЕ ОБНОВЛЕНИЕ (рекомендуется)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Все изменения уже находятся в вашей ветке git:
  claude/fix-number-generator-examples-011CUd5a2Bub7HmFEk57K5fs

Просто выполните:
  1. Убедитесь что вы на правильной ветке:
     git branch

  2. Если нужно, переключитесь на ветку:
     git checkout claude/fix-number-generator-examples-011CUd5a2Bub7HmFEk57K5fs

  3. Загрузите последние изменения:
     git pull origin claude/fix-number-generator-examples-011CUd5a2Bub7HmFEk57K5fs


Вариант 2: РУЧНОЕ КОПИРОВАНИЕ
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Если вариант 1 не работает, скопируйте файлы вручную:

  1. Откройте файл:
     /home/user/Mind-Abacus-/ОБНОВЛЕНИЕ_ExampleGenerator.js

  2. Скопируйте ВСЁ содержимое (Ctrl+A, Ctrl+C)

  3. Вставьте в файл:
     /home/user/Mind-Abacus-/ext/core/ExampleGenerator.js
     (заменив всё содержимое)

  4. Откройте файл:
     /home/user/Mind-Abacus-/ОБНОВЛЕНИЕ_BrothersRule.js

  5. Скопируйте ВСЁ содержимое (Ctrl+A, Ctrl+C)

  6. Вставьте в файл:
     /home/user/Mind-Abacus-/ext/core/rules/BrothersRule.js
     (заменив всё содержимое)

  7. В файле trainer_logic.js (строки 522-527) замените:

     БЫЛО:
     brothers: {
       active: st.blocks?.brothers?.active ?? false
     },

     СТАЛО:
     brothers: {
       active: st.blocks?.brothers?.active ?? false,
       digits: st.blocks?.brothers?.digits ?? [4],
       onlyAddition: st.blocks?.brothers?.onlyAddition ?? false,
       onlySubtraction: st.blocks?.brothers?.onlySubtraction ?? false
     },


🔍 КАК ПРОВЕРИТЬ ЧТО ВСЁ РАБОТАЕТ?
----------------------------------

1. Откройте приложение в браузере
2. Выберите режим "Братья" (Brothers)
3. Выберите цифру 4 (или любую другую: 1, 2, 3)
4. Нажмите "Начать тренировку"
5. Смотрите в консоль браузера (F12 → Console)

Вы должны увидеть:
  ✨ Выбран братский шаг: +1 (брат 4)
  ✨ Выбран братский шаг: -1 (брат 4)

И примеры должны содержать братские переходы через 5!


✅ ЧТО ИСПРАВЛЕНО?
------------------

1. ✅ Братские шаги теперь приоритетны (95% вероятность)
2. ✅ Все 4 брата работают корректно:
   - Брат 1: шаги ±4 (обмен 1↔6)
   - Брат 2: шаги ±3 (обмен 2↔7)
   - Брат 3: шаги ±2 (обмен 3↔8)
   - Брат 4: шаги ±1 (обмен 4↔5)
3. ✅ Формулы братских переходов исправлены
4. ✅ Настройки из UI передаются корректно


💡 ЕСЛИ ВОЗНИКЛИ ПРОБЛЕМЫ:
--------------------------

1. Проверьте консоль браузера на ошибки (F12 → Console)
2. Убедитесь что файлы скопированы полностью
3. Перезагрузите страницу (Ctrl+R или Ctrl+Shift+R)
4. Очистите кеш браузера


═══════════════════════════════════════════════════════════════
